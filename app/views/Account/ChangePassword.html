<div class="row">
    <div class="col-lg-12">
        <h3 class="page-header">Change Password</h3>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row" ng-controller="changePwdCtrl">
    
    
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <form role="form" ng-submit="changepwd(currentPwd,confirmPwd)" id="myForm">
                    <div class="alert alert-success" ng-show="successshow">
                        {{messageShow}}
                    </div>
                    <div class="alert alert-danger" ng-show="errorshow">
                        {{messageShow}}
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Current Password</label>
                                <input class="form-control" placeholder="Enter Current Password" type="password" name="currentPwd" ng-model="currentPwd" required autofocus>
                            </div>
                            <div class="form-group">
                                <label>New Password</label>
                                <input class="form-control" placeholder="Enter New Password" type="password" name="newPwd" ng-model="newPwd" required>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label>Confirm Password</label>
                                <input class="form-control" placeholder="Enter Confirm Password" type="password" name="confirmPwd" ng-model="confirmPwd" required compare-to="newPwd">
                                
                                <div class="msg-block" ng-show="myForm.$error">
                                    <span class="msg-error" ng-show="myForm.confirmPwd.$error.pwmatch">Passwords don't match.</span>
                                </div>
                            </div>
                        </div>
                        <!-- /.col-lg-6 (nested) -->
                    </div>
                    <button type="submit" class="btn btn-primary" style="text-align:center;">Submit</button>
                    <a href="#/dashboard/home" type="submit" class="btn btn-default" style="text-align:center;">Cancel</a>
                    <!--<button type="reset" class="btn btn-Primary" style="text-align:center;">Reset</button>-->
                </form>
                <!-- /.row (nested) -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
<script>
    var compareTo = function () {
        return {
            require: "ngModel",
            scope: {
                otherModelValue: "=compareTo"
            },
            link: function (scope, element, attributes, ngModel) {

                ngModel.$validators.compareTo = function (modelValue) {
                    return modelValue == scope.otherModelValue;
                };

                scope.$watch("otherModelValue", function () {
                    ngModel.$validate();
                });
            }
        };
    };
</script>